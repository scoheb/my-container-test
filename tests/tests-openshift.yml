- hosts: all
  gather_facts: false
  tags:
  - openshift
  vars:
  - eap_testsuite: "https://gitlab.mw.lab.eng.bos.redhat.com/jbossqe-eap/openshift-eap-tests.git"
  - xtf_repo: "https://github.com/LittleJohnII/xtf.git"
  - intermediate_full_image: "docker-registry.upshift.redhat.com/jbossqe-eap/openshift-tests-intermediate:latest"
  - intermediate_image: "openshift-tests-intermediate"
  - intermediate_deployment: "openshift-tests-intermediate-deployment"
  # these vars are only defaults, and are overriden by the CVP pipeline
  - image_full_name: "registry.access.redhat.com/jboss-eap-7/eap72-openshift:1.0"
  - image_registry_url: "registry.access.redhat.com"
  - image_namespace: "jboss-eap-7"
  - image_name: "eap72-openshift"
  - image_tag: "1.0"
  - openshift_cluster_url: "https://upshift.engineering.redhat.com"
  - openshift_auth_token: ""
  - openshift_username: "developer"
  - openshift_project_name: ""

  tasks:
  - name: "Log in to OpenShift"
    shell: oc login {{ openshift_cluster_url }} --token="{{ openshift_auth_token }}" --insecure-skip-tls-verify

  - name: "Select our project"
    shell: oc project {{ openshift_project_name }}

  - name: "create test file"
    shell:
      cmd: |
          echo "abc" > {{ cvp_artifacts_dir }}/pod-log.txt

